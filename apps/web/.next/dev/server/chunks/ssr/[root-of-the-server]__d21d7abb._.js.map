{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/jira/UMS/apps/web/app/admin/users/students/%5Bid%5D/page.tsx"],"sourcesContent":["import { getStudentById } from \"@/actions/user-students\";\nimport { notFound } from \"next/navigation\";\nimport Link from \"next/link\";\nimport {\n    ArrowLeft,\n    Mail,\n    Phone,\n    MapPin,\n    Calendar,\n    GraduationCap,\n    BookOpen,\n    DollarSign,\n    Edit,\n    Trash2\n} from \"lucide-react\";\nimport { format } from \"date-fns\";\n\ninterface PageProps {\n    params: Promise<{\n        id: string;\n    }>;\n}\n\nexport default async function StudentDetailPage({ params }: PageProps) {\n    const { id } = await params;\n\n    if (id === \"create\") {\n        notFound();\n    }\n\n    const result = await getStudentById(id);\n\n    if (!result.success || !result.student) {\n        notFound();\n    }\n\n    const student = result.student;\n\n    return (\n        <div className=\"flex h-full flex-col\">\n            {/* Header */}\n            <div className=\"border-b bg-white p-6\">\n                <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-4\">\n                        <Link href=\"/admin/users/students\">\n                            <button className=\"rounded-md border p-2 hover:bg-gray-50\">\n                                <ArrowLeft className=\"h-5 w-5\" />\n                            </button>\n                        </Link>\n                        <div>\n                            <h1 className=\"text-2xl font-bold\">\n                                {student.firstName} {student.lastName}\n                            </h1>\n                            <p className=\"text-sm text-muted-foreground\">\n                                Student ID: {student.studentId}\n                            </p>\n                        </div>\n                    </div>\n                    <div className=\"flex gap-2\">\n                        <Link href={`/admin/users/students/${student.id}/edit`}>\n                            <button className=\"flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm text-white hover:bg-blue-700\">\n                                <Edit className=\"h-4 w-4\" />\n                                Edit\n                            </button>\n                        </Link>\n                        <button className=\"flex items-center gap-2 rounded-md border border-red-600 px-4 py-2 text-sm text-red-600 hover:bg-red-50\">\n                            <Trash2 className=\"h-4 w-4\" />\n                            Delete\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            {/* Content */}\n            <div className=\"flex-1 overflow-auto p-6\">\n                <div className=\"grid gap-6 lg:grid-cols-3\">\n                    {/* Left Column - Main Info */}\n                    <div className=\"lg:col-span-2 space-y-6\">\n                        {/* Personal Information */}\n                        <div className=\"rounded-lg border bg-card p-6\">\n                            <h2 className=\"text-lg font-semibold mb-4\">Personal Information</h2>\n                            <div className=\"grid gap-4 md:grid-cols-2\">\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">First Name</p>\n                                    <p className=\"font-medium\">{student.firstName}</p>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Last Name</p>\n                                    <p className=\"font-medium\">{student.lastName}</p>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Email</p>\n                                    <div className=\"flex items-center gap-2\">\n                                        <Mail className=\"h-4 w-4 text-muted-foreground\" />\n                                        <p className=\"font-medium\">{student.user?.email}</p>\n                                    </div>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Phone</p>\n                                    <div className=\"flex items-center gap-2\">\n                                        <Phone className=\"h-4 w-4 text-muted-foreground\" />\n                                        <p className=\"font-medium\">{student.phone || \"-\"}</p>\n                                    </div>\n                                </div>\n                                <div className=\"md:col-span-2\">\n                                    <p className=\"text-sm text-muted-foreground\">Address</p>\n                                    <div className=\"flex items-start gap-2\">\n                                        <MapPin className=\"h-4 w-4 text-muted-foreground mt-1\" />\n                                        <p className=\"font-medium\">{student.address || \"-\"}</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Academic Information */}\n                        <div className=\"rounded-lg border bg-card p-6\">\n                            <h2 className=\"text-lg font-semibold mb-4\">Academic Information</h2>\n                            <div className=\"grid gap-4 md:grid-cols-2\">\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Program</p>\n                                    <p className=\"font-medium\">{student.program?.nameEn}</p>\n                                    <p className=\"text-sm text-muted-foreground\">{student.program?.nameTh}</p>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Faculty</p>\n                                    <p className=\"font-medium\">{student.program?.faculty?.nameEn}</p>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Department</p>\n                                    <p className=\"font-medium\">{student.program?.department?.nameEn || \"-\"}</p>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Admission Year</p>\n                                    <p className=\"font-medium\">{student.admissionYear || \"-\"}</p>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Status</p>\n                                    <span className={`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${student.status === \"STUDYING\" ? \"bg-green-100 text-green-700\" :\n                                        student.status === \"GRADUATED\" ? \"bg-blue-100 text-blue-700\" :\n                                            student.status === \"ON_LEAVE\" ? \"bg-yellow-100 text-yellow-700\" :\n                                                \"bg-red-100 text-red-700\"\n                                        }`}>\n                                        {student.status}\n                                    </span>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Enrolled Since</p>\n                                    <div className=\"flex items-center gap-2\">\n                                        <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n                                        <p className=\"font-medium\">\n                                            {format(new Date(student.createdAt), \"MMMM d, yyyy\")}\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Enrollments */}\n                        <div className=\"rounded-lg border bg-card p-6\">\n                            <h2 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\n                                <BookOpen className=\"h-5 w-5\" />\n                                Course Enrollments\n                            </h2>\n                            {student.enrollments && student.enrollments.length > 0 ? (\n                                <div className=\"space-y-3\">\n                                    {student.enrollments.map((enrollment: any) => (\n                                        <div key={enrollment.id} className=\"flex items-center justify-between rounded-lg border p-3\">\n                                            <div>\n                                                <p className=\"font-medium\">{enrollment.section?.course?.nameEn}</p>\n                                                <p className=\"text-sm text-muted-foreground\">\n                                                    {enrollment.section?.course?.code} - Section {enrollment.section?.sectionNumber}\n                                                </p>\n                                            </div>\n                                            <div className=\"text-right\">\n                                                <p className=\"font-medium\">{enrollment.grade || \"In Progress\"}</p>\n                                                <p className=\"text-sm text-muted-foreground\">\n                                                    {enrollment.section?.course?.credits} credits\n                                                </p>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            ) : (\n                                <p className=\"text-center py-8 text-muted-foreground\">No enrollments yet</p>\n                            )}\n                        </div>\n                    </div>\n\n                    {/* Right Column - Stats & Actions */}\n                    <div className=\"space-y-6\">\n                        {/* Quick Stats */}\n                        <div className=\"rounded-lg border bg-card p-6\">\n                            <h2 className=\"text-lg font-semibold mb-4\">Quick Stats</h2>\n                            <div className=\"space-y-4\">\n                                <div className=\"flex items-center justify-between\">\n                                    <div className=\"flex items-center gap-2\">\n                                        <BookOpen className=\"h-4 w-4 text-blue-600\" />\n                                        <span className=\"text-sm\">Enrolled Courses</span>\n                                    </div>\n                                    <span className=\"font-bold\">{student.enrollments?.length || 0}</span>\n                                </div>\n                                <div className=\"flex items-center justify-between\">\n                                    <div className=\"flex items-center gap-2\">\n                                        <GraduationCap className=\"h-4 w-4 text-green-600\" />\n                                        <span className=\"text-sm\">Completed Credits</span>\n                                    </div>\n                                    <span className=\"font-bold\">\n                                        {student.enrollments?.reduce((sum: number, e: any) =>\n                                            sum + (e.grade && e.grade !== 'F' ? e.section?.course?.credits || 0 : 0), 0\n                                        ) || 0}\n                                    </span>\n                                </div>\n                                <div className=\"flex items-center justify-between\">\n                                    <div className=\"flex items-center gap-2\">\n                                        <DollarSign className=\"h-4 w-4 text-purple-600\" />\n                                        <span className=\"text-sm\">Invoices</span>\n                                    </div>\n                                    <span className=\"font-bold\">{student.invoices?.length || 0}</span>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Recent Invoices */}\n                        <div className=\"rounded-lg border bg-card p-6\">\n                            <h2 className=\"text-lg font-semibold mb-4\">Recent Invoices</h2>\n                            {student.invoices && student.invoices.length > 0 ? (\n                                <div className=\"space-y-3\">\n                                    {student.invoices.slice(0, 5).map((invoice: any) => (\n                                        <div key={invoice.id} className=\"flex items-center justify-between text-sm\">\n                                            <div>\n                                                <p className=\"font-medium\">${invoice.amount}</p>\n                                                <p className=\"text-xs text-muted-foreground\">\n                                                    {format(new Date(invoice.createdAt), \"MMM d, yyyy\")}\n                                                </p>\n                                            </div>\n                                            <span className={`rounded-full px-2 py-1 text-xs ${invoice.status === \"PAID\" ? \"bg-green-100 text-green-700\" :\n                                                invoice.status === \"PENDING\" ? \"bg-yellow-100 text-yellow-700\" :\n                                                    \"bg-red-100 text-red-700\"\n                                                }`}>\n                                                {invoice.status}\n                                            </span>\n                                        </div>\n                                    ))}\n                                </div>\n                            ) : (\n                                <p className=\"text-center py-4 text-sm text-muted-foreground\">No invoices</p>\n                            )}\n                        </div>\n\n                        {/* Actions */}\n                        <div className=\"rounded-lg border bg-card p-6\">\n                            <h2 className=\"text-lg font-semibold mb-4\">Actions</h2>\n                            <div className=\"space-y-2\">\n                                <button className=\"w-full rounded-md border p-2 text-sm hover:bg-gray-50 text-left\">\n                                    View Academic Records\n                                </button>\n                                <button className=\"w-full rounded-md border p-2 text-sm hover:bg-gray-50 text-left\">\n                                    View Financial Records\n                                </button>\n                                <button className=\"w-full rounded-md border p-2 text-sm hover:bg-gray-50 text-left\">\n                                    Enroll in Courses\n                                </button>\n                                <button className=\"w-full rounded-md border border-yellow-600 p-2 text-sm text-yellow-600 hover:bg-yellow-50 text-left\">\n                                    Change Status\n                                </button>\n                                <button className=\"w-full rounded-md border border-red-600 p-2 text-sm text-red-600 hover:bg-red-50 text-left\">\n                                    Suspend Student\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}