{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/jira/UMS/apps/web/app/admin/users/staff/%5Bid%5D/page.tsx"],"sourcesContent":["import { prisma } from \"@ums/lib\";\nimport { notFound } from \"next/navigation\";\nimport Link from \"next/link\";\nimport {\n    ArrowLeft,\n    Mail,\n    Phone,\n    MapPin,\n    Building,\n    Briefcase,\n    Edit,\n    Trash2,\n    Calendar\n} from \"lucide-react\";\nimport { format } from \"date-fns\";\n\ninterface PageProps {\n    params: Promise<{\n        id: string;\n    }>;\n}\n\nasync function getStaffById(id: string) {\n    if (!id || id === \"create\") return null;\n\n    const staff = await prisma.personnel.findUnique({\n        where: { id },\n        include: {\n            user: true,\n            faculty: true,\n            department: true,\n        },\n    });\n    return staff;\n}\n\nexport default async function StaffDetailPage({ params }: PageProps) {\n    const { id } = await params;\n\n    if (id === \"create\") {\n        notFound();\n    }\n\n    const staff = await getStaffById(id);\n\n    if (!staff || staff.user.role !== \"STAFF\") {\n        notFound();\n    }\n\n    return (\n        <div className=\"flex h-full flex-col\">\n            {/* Header */}\n            <div className=\"border-b bg-white p-6\">\n                <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-4\">\n                        <Link href=\"/admin/users/staff\">\n                            <button className=\"rounded-md border p-2 hover:bg-gray-50\">\n                                <ArrowLeft className=\"h-5 w-5\" />\n                            </button>\n                        </Link>\n                        <div>\n                            <h1 className=\"text-2xl font-bold\">\n                                {staff.title} {staff.firstName} {staff.lastName}\n                            </h1>\n                            <p className=\"text-sm text-muted-foreground\">\n                                {staff.position || \"Staff Member\"}\n                            </p>\n                        </div>\n                    </div>\n                    <div className=\"flex gap-2\">\n                        <Link href={`/admin/users/staff/${staff.id}/edit`}>\n                            <button className=\"flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm text-white hover:bg-blue-700\">\n                                <Edit className=\"h-4 w-4\" />\n                                Edit\n                            </button>\n                        </Link>\n                        <button className=\"flex items-center gap-2 rounded-md border border-red-600 px-4 py-2 text-sm text-red-600 hover:bg-red-50\">\n                            <Trash2 className=\"h-4 w-4\" />\n                            Delete\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            {/* Content */}\n            <div className=\"flex-1 overflow-auto p-6\">\n                <div className=\"grid gap-6 lg:grid-cols-3\">\n                    {/* Left Column - Main Info */}\n                    <div className=\"lg:col-span-2 space-y-6\">\n                        {/* Personal Information */}\n                        <div className=\"rounded-lg border bg-card p-6\">\n                            <h2 className=\"text-lg font-semibold mb-4\">Personal Information</h2>\n                            <div className=\"grid gap-4 md:grid-cols-2\">\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Full Name</p>\n                                    <p className=\"font-medium\">\n                                        {staff.title} {staff.firstName} {staff.lastName}\n                                    </p>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Position</p>\n                                    <div className=\"flex items-center gap-2\">\n                                        <Briefcase className=\"h-4 w-4 text-muted-foreground\" />\n                                        <p className=\"font-medium\">{staff.position || \"Staff\"}</p>\n                                    </div>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Email</p>\n                                    <div className=\"flex items-center gap-2\">\n                                        <Mail className=\"h-4 w-4 text-muted-foreground\" />\n                                        <p className=\"font-medium\">{staff.user.email}</p>\n                                    </div>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Phone</p>\n                                    <div className=\"flex items-center gap-2\">\n                                        <Phone className=\"h-4 w-4 text-muted-foreground\" />\n                                        <p className=\"font-medium\">{staff.phone || \"-\"}</p>\n                                    </div>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Office Location</p>\n                                    <div className=\"flex items-center gap-2\">\n                                        <MapPin className=\"h-4 w-4 text-muted-foreground\" />\n                                        <p className=\"font-medium\">{staff.officeLocation || \"-\"}</p>\n                                    </div>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Joined</p>\n                                    <div className=\"flex items-center gap-2\">\n                                        <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n                                        <p className=\"font-medium\">\n                                            {format(new Date(staff.createdAt), \"MMMM d, yyyy\")}\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Department Assignment */}\n                        <div className=\"rounded-lg border bg-card p-6\">\n                            <h2 className=\"text-lg font-semibold mb-4\">Department Assignment</h2>\n                            <div className=\"grid gap-4 md:grid-cols-2\">\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Faculty</p>\n                                    <div className=\"flex items-center gap-2\">\n                                        <Building className=\"h-4 w-4 text-muted-foreground\" />\n                                        <p className=\"font-medium\">{staff.faculty?.nameEn || \"-\"}</p>\n                                    </div>\n                                </div>\n                                <div>\n                                    <p className=\"text-sm text-muted-foreground\">Department</p>\n                                    <div className=\"flex items-center gap-2\">\n                                        <Building className=\"h-4 w-4 text-muted-foreground\" />\n                                        <p className=\"font-medium\">{staff.department?.nameEn || \"-\"}</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Profile Information */}\n                        {staff.bio && (\n                            <div className=\"rounded-lg border bg-card p-6\">\n                                <h2 className=\"text-lg font-semibold mb-4\">About</h2>\n                                <p className=\"text-sm text-muted-foreground\">{staff.bio}</p>\n                            </div>\n                        )}\n                    </div>\n\n                    {/* Right Column - Info & Actions */}\n                    <div className=\"space-y-6\">\n                        {/* Account Information */}\n                        <div className=\"rounded-lg border bg-card p-6\">\n                            <h2 className=\"text-lg font-semibold mb-4\">Account Information</h2>\n                            <div className=\"space-y-3\">\n                                <div className=\"flex items-center justify-between\">\n                                    <span className=\"text-sm\">Role</span>\n                                    <span className=\"rounded-full bg-blue-100 px-2 py-1 text-xs text-blue-700\">\n                                        {staff.user.role}\n                                    </span>\n                                </div>\n                                <div className=\"flex items-center justify-between\">\n                                    <span className=\"text-sm\">Status</span>\n                                    <span className=\"rounded-full bg-green-100 px-2 py-1 text-xs text-green-700\">\n                                        Active\n                                    </span>\n                                </div>\n                                <div className=\"flex items-center justify-between\">\n                                    <span className=\"text-sm\">Profile Visibility</span>\n                                    <span className={`rounded-full px-2 py-1 text-xs ${staff.isProfilePublic\n                                        ? \"bg-green-100 text-green-700\"\n                                        : \"bg-gray-100 text-gray-700\"\n                                        }`}>\n                                        {staff.isProfilePublic ? \"Public\" : \"Private\"}\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Contact Information */}\n                        <div className=\"rounded-lg border bg-card p-6\">\n                            <h2 className=\"text-lg font-semibold mb-4\">Contact</h2>\n                            <div className=\"space-y-3\">\n                                <div>\n                                    <p className=\"text-xs text-muted-foreground mb-1\">Email</p>\n                                    <p className=\"text-sm font-medium\">{staff.user.email}</p>\n                                </div>\n                                {staff.phone && (\n                                    <div>\n                                        <p className=\"text-xs text-muted-foreground mb-1\">Phone</p>\n                                        <p className=\"text-sm font-medium\">{staff.phone}</p>\n                                    </div>\n                                )}\n                                {staff.officeLocation && (\n                                    <div>\n                                        <p className=\"text-xs text-muted-foreground mb-1\">Office</p>\n                                        <p className=\"text-sm font-medium\">{staff.officeLocation}</p>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n\n                        {/* Actions */}\n                        <div className=\"rounded-lg border bg-card p-6\">\n                            <h2 className=\"text-lg font-semibold mb-4\">Actions</h2>\n                            <div className=\"space-y-2\">\n                                <button className=\"w-full rounded-md border p-2 text-sm hover:bg-gray-50 text-left\">\n                                    Send Email\n                                </button>\n                                <button className=\"w-full rounded-md border p-2 text-sm hover:bg-gray-50 text-left\">\n                                    View Activity Log\n                                </button>\n                                <button className=\"w-full rounded-md border p-2 text-sm hover:bg-gray-50 text-left\">\n                                    Change Department\n                                </button>\n                                <button className=\"w-full rounded-md border border-yellow-600 p-2 text-sm text-yellow-600 hover:bg-yellow-50 text-left\">\n                                    Deactivate Account\n                                </button>\n                                <button className=\"w-full rounded-md border border-red-600 p-2 text-sm text-red-600 hover:bg-red-50 text-left\">\n                                    Remove Staff\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}