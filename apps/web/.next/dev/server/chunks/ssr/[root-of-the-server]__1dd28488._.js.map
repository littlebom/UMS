{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/jira/UMS/apps/web/app/admin/ai-agent/page.tsx"],"sourcesContent":["import { getAiSettings, getKnowledgeBaseItems, updateAiSettings } from \"@/actions/ai\";\nimport Link from \"next/link\";\nimport { Plus } from \"lucide-react\";\n\nexport default async function AiAgentPage() {\n    const settings = await getAiSettings();\n    const knowledgeItems = await getKnowledgeBaseItems();\n\n    return (\n        <div className=\"space-y-6\">\n            <h1 className=\"text-2xl font-bold text-gray-900\">AI Agent Configuration</h1>\n\n            {/* Settings Section */}\n            <div className=\"overflow-hidden rounded-lg bg-white shadow\">\n                <div className=\"border-b border-gray-200 px-4 py-5 sm:px-6\">\n                    <h3 className=\"text-lg font-medium leading-6 text-gray-900\">\n                        Bot Settings\n                    </h3>\n                </div>\n                <div className=\"px-4 py-5 sm:p-6\">\n                    <form action={updateAiSettings} className=\"space-y-6\">\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-700\">\n                                Bot Name\n                            </label>\n                            <input\n                                type=\"text\"\n                                name=\"botName\"\n                                defaultValue={settings.botName}\n                                className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border\"\n                            />\n                        </div>\n\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-700\">\n                                Welcome Message\n                            </label>\n                            <textarea\n                                name=\"welcomeMessage\"\n                                rows={3}\n                                defaultValue={settings.welcomeMessage}\n                                className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border\"\n                            />\n                        </div>\n\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-700\">\n                                Personality / System Prompt\n                            </label>\n                            <textarea\n                                name=\"personality\"\n                                rows={3}\n                                defaultValue={settings.personality}\n                                className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border\"\n                                placeholder=\"e.g., You are a friendly and helpful university assistant...\"\n                            />\n                        </div>\n\n                        <div className=\"flex items-center\">\n                            <input\n                                type=\"checkbox\"\n                                name=\"isActive\"\n                                value=\"true\"\n                                defaultChecked={settings.isActive}\n                                className=\"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                            />\n                            <label className=\"ml-2 block text-sm text-gray-900\">\n                                Enable AI Chatbot on Public Website\n                            </label>\n                        </div>\n\n                        <div className=\"flex justify-end\">\n                            <button\n                                type=\"submit\"\n                                className=\"inline-flex justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n                            >\n                                Save Settings\n                            </button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n\n            {/* Knowledge Base Section */}\n            <div className=\"overflow-hidden rounded-lg bg-white shadow\">\n                <div className=\"border-b border-gray-200 px-4 py-5 sm:px-6 flex items-center justify-between\">\n                    <h3 className=\"text-lg font-medium leading-6 text-gray-900\">\n                        Knowledge Base ({knowledgeItems.length} items)\n                    </h3>\n                    <Link\n                        href=\"/admin/ai-agent/knowledge/create\"\n                        className=\"flex items-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700\"\n                    >\n                        <Plus className=\"mr-2 h-4 w-4\" />\n                        Add Knowledge\n                    </Link>\n                </div>\n                <div className=\"px-4 py-5 sm:p-6\">\n                    <div className=\"space-y-4\">\n                        {knowledgeItems.length === 0 ? (\n                            <p className=\"text-center text-gray-500\">\n                                No knowledge base items yet. Add some to help the AI answer questions.\n                            </p>\n                        ) : (\n                            knowledgeItems.map((item) => (\n                                <div\n                                    key={item.id}\n                                    className=\"rounded-lg border border-gray-200 p-4 hover:bg-gray-50\"\n                                >\n                                    <div className=\"flex items-start justify-between\">\n                                        <div className=\"flex-1\">\n                                            <h4 className=\"text-sm font-medium text-gray-900\">\n                                                Q: {item.question}\n                                            </h4>\n                                            <p className=\"mt-1 text-sm text-gray-600\">\n                                                A: {item.answer}\n                                            </p>\n                                            {item.category && (\n                                                <span className=\"mt-2 inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800\">\n                                                    {item.category}\n                                                </span>\n                                            )}\n                                        </div>\n                                    </div>\n                                </div>\n                            ))\n                        )}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,eAAe;IAC1B,MAAM,WAAW,MAAM,IAAA,6IAAa;IACpC,MAAM,iBAAiB,MAAM,IAAA,qJAAqB;IAElD,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAG,WAAU;0BAAmC;;;;;;0BAGjD,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAG,WAAU;sCAA8C;;;;;;;;;;;kCAIhE,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAK,QAAQ,gJAAgB;4BAAE,WAAU;;8CACtC,8OAAC;;sDACG,8OAAC;4CAAM,WAAU;sDAA0C;;;;;;sDAG3D,8OAAC;4CACG,MAAK;4CACL,MAAK;4CACL,cAAc,SAAS,OAAO;4CAC9B,WAAU;;;;;;;;;;;;8CAIlB,8OAAC;;sDACG,8OAAC;4CAAM,WAAU;sDAA0C;;;;;;sDAG3D,8OAAC;4CACG,MAAK;4CACL,MAAM;4CACN,cAAc,SAAS,cAAc;4CACrC,WAAU;;;;;;;;;;;;8CAIlB,8OAAC;;sDACG,8OAAC;4CAAM,WAAU;sDAA0C;;;;;;sDAG3D,8OAAC;4CACG,MAAK;4CACL,MAAM;4CACN,cAAc,SAAS,WAAW;4CAClC,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAIpB,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CACG,MAAK;4CACL,MAAK;4CACL,OAAM;4CACN,gBAAgB,SAAS,QAAQ;4CACjC,WAAU;;;;;;sDAEd,8OAAC;4CAAM,WAAU;sDAAmC;;;;;;;;;;;;8CAKxD,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC;wCACG,MAAK;wCACL,WAAU;kDACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BASjB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;;oCAA8C;oCACvC,eAAe,MAAM;oCAAC;;;;;;;0CAE3C,8OAAC,0LAAI;gCACD,MAAK;gCACL,WAAU;;kDAEV,8OAAC,0MAAI;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;;kCAIzC,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAI,WAAU;sCACV,eAAe,MAAM,KAAK,kBACvB,8OAAC;gCAAE,WAAU;0CAA4B;;;;;uCAIzC,eAAe,GAAG,CAAC,CAAC,qBAChB,8OAAC;oCAEG,WAAU;8CAEV,cAAA,8OAAC;wCAAI,WAAU;kDACX,cAAA,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAG,WAAU;;wDAAoC;wDAC1C,KAAK,QAAQ;;;;;;;8DAErB,8OAAC;oDAAE,WAAU;;wDAA6B;wDAClC,KAAK,MAAM;;;;;;;gDAElB,KAAK,QAAQ,kBACV,8OAAC;oDAAK,WAAU;8DACX,KAAK,QAAQ;;;;;;;;;;;;;;;;;mCAbzB,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BhD"}}]
}